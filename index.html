<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gothic Cats</title>

<link href="https://fonts.googleapis.com/css2?family=UnifrakturCook:wght@700&family=Montserrat&display=swap" rel="stylesheet">

<style>
:root {
  --blood:#9b0000;
  --violet:#b48ead;
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100vh;
  background:radial-gradient(circle at top,#1b001b,#000);
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:Montserrat,sans-serif;
  color:#eee;
  overflow:hidden;
}

.rain{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:1;
}
.rain::before{
  content:"";
  position:absolute;
  inset:0;
  background:
    repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(155,0,0,.1) 3px);
  animation:rain 0.8s linear infinite;
}
@keyframes rain{from{transform:translateY(-100%)}to{transform:translateY(100%)}}

.container{
  width:min(90vw,380px);
  background:rgba(0,0,0,.8);
  border-radius:20px;
  padding:25px;
  text-align:center;
  z-index:2;
  box-shadow:0 0 40px rgba(155,0,0,.6);
}

h1{
  font-family:UnifrakturCook,cursive;
  color:var(--violet);
  font-size:2.5rem;
  margin-bottom:20px;
}

.cats{
  font-size:2.2rem;
  margin-bottom:25px;
  animation:float 3s ease-in-out infinite;
}
@keyframes float{50%{transform:translateY(-12px)}}

#trickButton{
  padding:14px 32px;
  border:none;
  border-radius:999px;
  font-weight:bold;
  background:linear-gradient(145deg,var(--blood),#700);
  color:#000;
  box-shadow:0 0 20px rgba(155,0,0,.8);
  cursor:pointer;
}

.message{
  position:fixed;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  background:rgba(0,0,0,.95);
  opacity:0;
  pointer-events:none;
  transition:.3s;
  z-index:10;
}
.message.show{opacity:1}
.message span{
  font-family:UnifrakturCook,cursive;
  color:var(--blood);
  font-size:3rem;
  animation:glitch .8s infinite;
}
@keyframes glitch{
  25%{transform:translate(1px,-1px)}
  50%{transform:translate(-1px,1px)}
}

.sound-indicator{
  position:fixed;
  top:15px;
  right:15px;
  width:40px;
  height:40px;
  border-radius:50%;
  background:#000;
  color:var(--violet);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:20;
  cursor:pointer;
}
.sound-indicator.muted{opacity:.5}
</style>
</head>

<body>

<div class="rain"></div>
<div class="sound-indicator" id="soundToggle">ğŸ”Š</div>

<div class="container">
  <h1>Gothic Cats</h1>
  <div class="cats">ğŸˆâ€â¬› ğŸ©¸ ğŸˆâ€â¬›</div>
  <button id="trickButton">Touch the curse</button>
</div>

<div class="message" id="message">
  <span>safa lmongol!!</span>
</div>

<!-- AUDIO -->
<audio id="ambience" loop>
  <source src="https://assets.mixkit.co/sfx/preview/mixkit-rain-loop-1243.mp3">
</audio>
<audio id="moveSound">
  <source src="https://assets.mixkit.co/sfx/preview/mixkit-ominous-ambient-576.mp3">
</audio>
<audio id="catSound">
  <source src="https://assets.mixkit.co/sfx/preview/mixkit-cartoon-cat-meow-221.mp3">
</audio>
<audio id="revealSound">
  <source src="https://assets.mixkit.co/sfx/preview/mixkit-spooky-magic-echo-875.mp3">
</audio>

<script>
const btn=document.getElementById("trickButton");
const msg=document.getElementById("message");
const toggle=document.getElementById("soundToggle");

const ambience=document.getElementById("ambience");
const moveSound=document.getElementById("moveSound");
const catSound=document.getElementById("catSound");
const revealSound=document.getElementById("revealSound");

let moves=0;
let unlocked=false;
let soundOn=true;

function unlockAudio(){
  if(unlocked) return;
  ambience.volume=.2;
  ambience.play().then(()=>{
    ambience.pause();
    ambience.currentTime=0;
    unlocked=true;
  }).catch(()=>{});
}

function play(a){
  if(!soundOn || !unlocked) return;
  a.currentTime=0;
  a.play().catch(()=>{});
}

function moveButton(){
  if(moves>=5) return;

  const x=(Math.random()-.5)*150;
  const y=(Math.random()-.5)*120;
  btn.style.transform=`translate(${x}px,${y}px)`;
  moves++;

  play(moveSound);
  setTimeout(()=>play(catSound),120);

  if(moves===5){
    setTimeout(()=>{
      btn.textContent="Reveal Curse";
      btn.style.transform="translate(0,0)";
    },300);
  }
}

function showMessage(){
  if(moves<5) return;
  play(revealSound);
  msg.classList.add("show");
  setTimeout(()=>msg.classList.remove("show"),1500);
}

btn.addEventListener("click",()=>{
  unlockAudio();
  moveButton();
  showMessage();
});

btn.addEventListener("touchstart",e=>{
  e.preventDefault();
  unlockAudio();
  moveButton();
  showMessage();
},{passive:false});

toggle.addEventListener("click",()=>{
  unlockAudio();
  soundOn=!soundOn;
  toggle.textContent=soundOn?"ğŸ”Š":"ğŸ”‡";
  if(soundOn) ambience.play();
  else ambience.pause();
});
</script>

</body>
</html>
